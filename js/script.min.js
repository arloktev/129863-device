var linkContacts=document.querySelector(".contacts__button"),popupWriteUs=document.querySelector(".write-us"),closePopupWriteUs=popupWriteUs.querySelector(".button--close"),formWriteUs=document.querySelector(".write-us__form"),nameUser=popupWriteUs.querySelector("[name=name]"),emailUser=popupWriteUs.querySelector("[name=email]"),messageUser=popupWriteUs.querySelector("[name=message]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("nameUser")}catch(e){isStorageSupport=!1}linkContacts.addEventListener("click",function(e){e.preventDefault(),popupWriteUs.classList.add("modal--show"),nameUser.focus(),storage?(nameUser.value=storage,emailUser.focus()):nameUser.focus()}),closePopupWriteUs.addEventListener("click",function(e){e.preventDefault(),popupWriteUs.classList.remove("modal--show"),popupWriteUs.classList.remove("modal--error")}),formWriteUs.addEventListener("submit",function(e){nameUser.value&&emailUser.value&&messageUser.value?isStorageSupport&&localStorage.setItem("nameUser",nameUser.value):(e.preventDefault(),popupWriteUs.classList.remove("modal--error"),popupWriteUs.offsetWidth=popupWriteUs.offsetWidth,popupWriteUs.classList.add("modal--error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupWriteUs.classList.contains("modal--show")&&(popupWriteUs.classList.remove("modal--show"),popupWriteUs.classList.remove("modal--error")))});var linkMap=document.querySelector(".contacts__map"),popupMap=document.querySelector(".map"),closePopupMap=popupMap.querySelector(".button--close");linkMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("modal--show")}),closePopupMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.remove("modal--show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupMap.classList.contains("modal--show")&&popupMap.classList.remove("modal--show"))});