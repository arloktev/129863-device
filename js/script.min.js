let linkContacts=document.querySelector(".contacts__button"),linkMap=document.querySelector(".contacts__map"),popupWriteUs=document.querySelector(".write-us"),popupMap=document.querySelector(".map"),closePopupWriteUs=popupWriteUs.querySelector(".button--close"),closePopupMap=popupMap.querySelector(".button--close"),formWriteUs=document.forms[1],nameUser=formWriteUs.querySelector("[name=name]"),emailUser=formWriteUs.querySelector("[name=email]"),messageUser=formWriteUs.querySelector("[name=message]"),isStorageSupport=!0,storage="",keyCode={ESC:27};function supportPreventDefault(a){return a.preventDefault?a.preventDefault():a.returnValue=!1}try{storage=localStorage.getItem("nameUser")}catch(a){isStorageSupport=!1}linkContacts.addEventListener("click",function(a){supportPreventDefault(a),popupWriteUs.classList.add("modal--show"),nameUser.focus(),storage?(nameUser.value=storage,emailUser.focus()):nameUser.focus()}),formWriteUs.addEventListener("submit",function(a){nameUser.value&&emailUser.value&&messageUser.value?isStorageSupport&&localStorage.setItem("nameUser",nameUser.value):(supportPreventDefault(a),popupWriteUs.classList.remove("modal--error"),popupWriteUs.offsetWidth=popupWriteUs.offsetWidth,popupWriteUs.classList.add("modal--error"))}),closePopupWriteUs.addEventListener("click",function(a){supportPreventDefault(a),popupWriteUs.classList.remove("modal--show","modal--error")}),linkMap.addEventListener("click",function(a){supportPreventDefault(a),popupMap.classList.add("modal--show")}),window.addEventListener("keydown",function(a){a.keyCode===keyCode.ESC&&(supportPreventDefault(a),popupWriteUs.classList.contains("modal--show")&&popupWriteUs.classList.remove("modal--show","modal--error"),popupMap.classList.contains("modal--show")&&popupMap.classList.remove("modal--show"))}),closePopupMap.addEventListener("click",function(a){supportPreventDefault(a),popupMap.classList.remove("modal--show")});